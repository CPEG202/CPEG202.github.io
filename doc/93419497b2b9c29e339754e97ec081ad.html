<font size='18'>
 <a href='../index.html'>Home</a>
 </font>
<!DOCTYPE html>

<html>
<head>
<meta charset="utf-8"/>
<meta content="Tinghui WANG" name="Author"/>
<link href="/images/realdigital.ico" rel="icon" type="image/x-icon"/>
<meta content="IE=edge" http-equiv="X-UA-Compatible"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<title>Welcome to Real Digital</title>
<link crossorigin="anonymous" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.9.0-alpha2/katex.min.css" integrity="sha384-exe4Ak6B0EoJI0ogGxjJ8rn+RN3ftPnEQrGwX59KTCl5ybGzvHGKjhPKk/KC3abb" rel="stylesheet"/>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
<link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/vs2015.min.css" rel="stylesheet"/>
<link href="/build/realdigital.c5563abade9aec1d0accf0b1c31118b8.css" rel="stylesheet"/>
<link href="/build/css/app.381c5c1b85ba6633fac439a6eb0ba6f4.css" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"/>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
<script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
        ga('create', 'UA-52236215-2', 'auto');
        ga('send', 'pageview');
    </script>
</link></link></head>
<body class="doc-page">

<div class="wrapper">
<div class="main main-raised">
<article class="container-fluid">
<div class="row">
<div class="col col-main-content" id="doc-main-content">

<div>
<div class="title-box">
<h1>Project
                                    6.1
                                            Comparators, Adders, and Multipliers
            </h1>
<h2>Arithmetic Circuits</h2>
</div>
<div class="row mt-3">
<div class="col text-left">
<a href="http://creativecommons.org/licenses/by-sa/4.0/" rel="license">
<img alt="Creative Commons License" src="https://i.creativecommons.org/l/by-sa/4.0/88x31.png" style="border-width:0"/>
</a>
</div>
<div class="col text-right">
<i class="fa fa-eye"></i>
                676
            </div>
</div>
</div>
<h2 data-source-line="1" id="introduction">Introduction</h2>
<p data-source-line="2">In this project, we will design arithmetic circuits and simulate them using Vivado® Simulator. We will build a 4-bit magnitude comparator, a ripple-carry adder, and a multiplier circuit. You can challenge yourself by integrating all of those circuits together with some multiplexers to build an arithmetic logic unit (ALU).</p>
<div class="row"><div class="col-md-6"><h4 id="before-you-begin-you-should">Before you begin, you should:</h4>
<ul>
<li>Have Real Digital®’s Blackboard set up;</li>
<li>Have the Xilinx® Vivado WebPACK™ installed;</li>
<li>Download <a class="btn btn-sm btn-warning" href="/downloads/f58306f7653fbc43384cebb596876f73.pdf"><strong>Submission Form 6</strong></a> <a class="btn btn-sm btn-warning" href="/downloads/0dcedfd0147791ee2524c4473ee3197e.pdf"><strong>Problem Set 6</strong></a>;</li>
<li>Be able to describe digital circuits using logic operators;</li>
<li>Be able to write test bench and simulate circuit using Vivado® Simulator.</li>
</ul>
</div><div class="col-lg-6 col-md-6 col-sm-12"><h4 id="after-youre-done-you-should">After you’re done, you should:</h4>
<ul>
<li>Understand how magnitude comparators, ripple-carry adders, and multipliers work;</li>
<li>Be able to describe magnitude comparators, ripple-carry adders, and multipliers structurally.</li>
</ul>
</div></div><h2 data-source-line="20" id="background">Background</h2>
<div class="row"><div class="col-md-8"><p>In order to complete this project, it is helpful to go through the background information about comparators, adders, subtractors, binary numbers, and multipliers. All of these topics are listed in the column to your right, you may refer back to these topics any time throughout the project.</p>
</div><div class="col-lg-4 col-md-6 col-sm-12"><ul>
<li><a class="btn btn-sm btn-success" href="/doc/a39d855f71772426c968c0151112b476"><strong>Comparators</strong></a></li>
<li><a class="btn btn-sm btn-success" href="/doc/21dd954e568975f7e97373e977e1ba52"><strong>Adders</strong></a></li>
<li><a class="btn btn-sm btn-success" href="/doc/1156ec579e4e4c5c2bb71ee082e33fb3"><strong>Subtractors</strong></a></li>
<li><a class="btn btn-sm btn-success" href="/doc/e1f5e216ec8568e4fe883ed4ecf4a275"><strong>Binary Numbers</strong></a></li>
<li><a class="btn btn-sm btn-success" href="/doc/42f40f5d5d502c3672477a2bbd78b697"><strong>Multipliers</strong></a></li>
<li><a class="btn btn-sm btn-success" href="/doc/5b8eed1f35370daee2489d692a29649b"><strong>Arithmetic Logic Units (ALU)</strong></a></li>
</ul>
</div></div><h2 data-source-line="35" id="step-1-design-a-4-bit-comparator-structurally-and-behaviorally">Step 1: Design a 4-bit Comparator Structurally and Behaviorally</h2>
<h3 data-source-line="37" id="implement-comparator-structurally">Implement Comparator Structurally</h3>
<h4 data-source-line="38" id="bit-sliced-comparator-module">Bit-Sliced Comparator Module</h4>
<p data-source-line="39">Create a Verilog module for a bit-sliced magnitude comparator according to the truth table presented in Fig. 1 below. You can try to create the module on your own and then check your work by clicking the <mark>Show/Hide Code</mark> below figure 1.</p>
<figure data-source-line="41"><img alt="Figure 1. Truth Table for a Bit-Sliced Magnitude Comparator" src="../images/fa60db2b9fd2e67ea626409fa27a57c4.svg"/><figcaption>Figure 1. Truth Table for a Bit-Sliced Magnitude Comparator</figcaption></figure>
<p data-source-line="43"><button class="btn btn-sm btn-grey" data-target="#demo1" data-toggle="collapse" type="button"><strong>Show/Hide Code</strong></button></p>
<div class="collapse" id="demo1">
<pre><code class="hljs language-verilog"><span class="hljs-keyword">module</span> cmp_bitslice(
    <span class="hljs-keyword">input</span> A,
    <span class="hljs-keyword">input</span> B,
    <span class="hljs-keyword">input</span> LT_I,
    <span class="hljs-keyword">input</span> EQ_I,
    <span class="hljs-keyword">input</span> GT_I,
    <span class="hljs-keyword">output</span> LT_O,
    <span class="hljs-keyword">output</span> EQ_O,
    <span class="hljs-keyword">output</span> GT_O
    );

<span class="hljs-keyword">assign</span> GT_O = ( A &amp; ~B ) | (~(A ^ B) &amp; GT_I);
<span class="hljs-keyword">assign</span> EQ_O = EQ_I &amp; (( A &amp; B ) | (~A &amp; ~B));
<span class="hljs-keyword">assign</span> LT_O = ( B &amp; ~A ) | (~(A ^ B) &amp; LT_I);

<span class="hljs-keyword">endmodule</span>
</code></pre>
</div>
<h4 data-source-line="66" id="structurally-describe-4-bit-comparator-with-bit-sliced-module">Structurally Describe 4-bit Comparator with Bit Sliced Module</h4>
<p data-source-line="67">Connect the bit-sliced magnitude comparator according to the block diagram shown in Fig. 2 below. Again, try to create the module on your own and then check your code by clicking <mark>Show/Hide Code</mark>.</p>
<figure data-source-line="69"><img alt="Figure 2. Block diagram of an 8-bit magnitude comparator using a bit-sliced magnitude comparator" src="../images/e2ca8bc6a4b14989241520786228ccc2.svg"/><figcaption>Figure 2. Block diagram of an 8-bit magnitude comparator using a bit-sliced magnitude comparator</figcaption></figure>
<p data-source-line="71"><button class="btn btn-sm btn-grey" data-target="#demo2" data-toggle="collapse" type="button"><strong>Show/Hide Code</strong></button></p>
<div class="collapse" id="demo2">
<pre><code class="hljs language-verilog"><span class="hljs-keyword">module</span> cmp(
    <span class="hljs-keyword">input</span> [<span class="hljs-number">3</span>:<span class="hljs-number">0</span>] A,
    <span class="hljs-keyword">input</span> [<span class="hljs-number">3</span>:<span class="hljs-number">0</span>] B,
    <span class="hljs-keyword">output</span> LT_O,
    <span class="hljs-keyword">output</span> EQ_O,
    <span class="hljs-keyword">output</span> GT_O
    );

<span class="hljs-keyword">wire</span> [<span class="hljs-number">3</span>:<span class="hljs-number">0</span>] GT_int;
<span class="hljs-keyword">wire</span> [<span class="hljs-number">3</span>:<span class="hljs-number">0</span>] EQ_int;
<span class="hljs-keyword">wire</span> [<span class="hljs-number">3</span>:<span class="hljs-number">0</span>] LT_int;

cmp_bitslice slice_0 (
    <span class="hljs-variable">.A</span>(A[<span class="hljs-number">0</span>]),
    <span class="hljs-variable">.B</span>(B[<span class="hljs-number">0</span>]),
    <span class="hljs-variable">.LT_I</span>(<span class="hljs-number">1'b0</span>),
    <span class="hljs-variable">.EQ_I</span>(<span class="hljs-number">1'b1</span>),
    <span class="hljs-variable">.GT_I</span>(<span class="hljs-number">1'b0</span>),
    <span class="hljs-variable">.LT_O</span>(LT_int[<span class="hljs-number">0</span>]),
    <span class="hljs-variable">.EQ_O</span>(EQ_int[<span class="hljs-number">0</span>]),
    <span class="hljs-variable">.GT_O</span>(GT_int[<span class="hljs-number">0</span>])
    );

cmp_bitslice slice_1 (
    <span class="hljs-variable">.A</span>(A[<span class="hljs-number">1</span>]),
    <span class="hljs-variable">.B</span>(B[<span class="hljs-number">1</span>]),
    <span class="hljs-variable">.LT_I</span>(LT_int[<span class="hljs-number">0</span>]),
    <span class="hljs-variable">.EQ_I</span>(EQ_int[<span class="hljs-number">0</span>]),
    <span class="hljs-variable">.GT_I</span>(GT_int[<span class="hljs-number">0</span>]),
    <span class="hljs-variable">.LT_O</span>(LT_int[<span class="hljs-number">1</span>]),
    <span class="hljs-variable">.EQ_O</span>(EQ_int[<span class="hljs-number">1</span>]),
    <span class="hljs-variable">.GT_O</span>(GT_int[<span class="hljs-number">1</span>])
    );

cmp_bitslice slice_2 (
    <span class="hljs-variable">.A</span>(A[<span class="hljs-number">2</span>]),
    <span class="hljs-variable">.B</span>(B[<span class="hljs-number">2</span>]),
    <span class="hljs-variable">.LT_I</span>(LT_int[<span class="hljs-number">1</span>]),
    <span class="hljs-variable">.EQ_I</span>(EQ_int[<span class="hljs-number">1</span>]),
    <span class="hljs-variable">.GT_I</span>(GT_int[<span class="hljs-number">1</span>]),
    <span class="hljs-variable">.LT_O</span>(LT_int[<span class="hljs-number">2</span>]),
    <span class="hljs-variable">.EQ_O</span>(EQ_int[<span class="hljs-number">2</span>]),
    <span class="hljs-variable">.GT_O</span>(GT_int[<span class="hljs-number">2</span>])
    );

cmp_bitslice slice_3 (
    <span class="hljs-variable">.A</span>(A[<span class="hljs-number">3</span>]),
    <span class="hljs-variable">.B</span>(B[<span class="hljs-number">3</span>]),
    <span class="hljs-variable">.LT_I</span>(LT_int[<span class="hljs-number">2</span>]),
    <span class="hljs-variable">.EQ_I</span>(EQ_int[<span class="hljs-number">2</span>]),
    <span class="hljs-variable">.GT_I</span>(GT_int[<span class="hljs-number">2</span>]),
    <span class="hljs-variable">.LT_O</span>(LT_int[<span class="hljs-number">3</span>]),
    <span class="hljs-variable">.EQ_O</span>(EQ_int[<span class="hljs-number">3</span>]),
    <span class="hljs-variable">.GT_O</span>(GT_int[<span class="hljs-number">3</span>])
    );

<span class="hljs-keyword">assign</span> LT_O = LT_int[<span class="hljs-number">3</span>];
<span class="hljs-keyword">assign</span> EQ_O = EQ_int[<span class="hljs-number">3</span>];
<span class="hljs-keyword">assign</span> GT_O = GT_int[<span class="hljs-number">3</span>];

<span class="hljs-keyword">endmodule</span>
</code></pre>
</div>
<h3 data-source-line="139" id="implement-comparator-behaviorally">Implement Comparator Behaviorally</h3>
<p data-source-line="140">To implement a comparator, it is more convenient to use behavioral descriptions in Verilog. In the behavioral description, you are using logic operator <code>==</code>, <code>&gt;</code> and <code>&lt;</code> to ask the Verilog synthesizer to insert the corresponding logic block for you. In such case, Verilog synthesizer decides the implementation of the comparator block instead of you the designer. Moreover, you also need to be careful when you have logic operation in your Verilog code. At each appearance of such operators, some comparison logic block is instantiated in your circuit.</p>
<p data-source-line="142">You can create the behavioral comparator yourself and then compare it to the code provided. Click “<mark>Show/Hide Code</mark>” to see the example code.</p>
<p data-source-line="144"><button class="btn btn-sm btn-grey" data-target="#demo3" data-toggle="collapse" type="button"><strong><strong>Show/Hide Code</strong></strong></button></p>
<div class="collapse" id="demo3">
<pre><code class="hljs language-verilog"><span class="hljs-keyword">module</span> cmp(
    <span class="hljs-keyword">input</span> [<span class="hljs-number">3</span>:<span class="hljs-number">0</span>] A,
    <span class="hljs-keyword">input</span> [<span class="hljs-number">3</span>:<span class="hljs-number">0</span>] B,
    <span class="hljs-keyword">output</span> LT_O,
    <span class="hljs-keyword">output</span> EQ_O,
    <span class="hljs-keyword">output</span> GT_O
    );

<span class="hljs-keyword">assign</span> LT_O = (A &lt; B) ? <span class="hljs-number">1'b1</span> : <span class="hljs-number">1'b0</span>;
<span class="hljs-keyword">assign</span> EQ_O = (A == B) ? <span class="hljs-number">1'b1</span> : <span class="hljs-number">1'b0</span>;
<span class="hljs-keyword">assign</span> GT_O = (A &gt; B) ? <span class="hljs-number">1'b1</span> : <span class="hljs-number">1'b0</span>;

<span class="hljs-keyword">endmodule</span>
</code></pre>
</div>
<h2 data-source-line="164" id="step-2-design-a-4-bit-binary-adder-structurally-and-behaviorally">Step 2: Design a 4-bit Binary Adder Structurally and Behaviorally</h2>
<h3 data-source-line="166" id="implement-the-adder-structurally">Implement the Adder Structurally</h3>
<h4 data-source-line="167" id="full-adder-fa">Full Adder (FA)</h4>
<p data-source-line="168">Create a Verilog module for a full adder.</p>
<pre><code class="hljs language-verilog"><span class="hljs-keyword">module</span> FA(
    <span class="hljs-keyword">input</span> A,
    <span class="hljs-keyword">input</span> B,
    <span class="hljs-keyword">input</span> Cin,
    <span class="hljs-keyword">output</span> S,
    <span class="hljs-keyword">output</span> Cout
    );

<span class="hljs-keyword">assign</span> S = A ^ B ^ Cin;
<span class="hljs-keyword">assign</span> Cout = (A &amp; B) | ((A ^ B) &amp; Cin);

<span class="hljs-keyword">endmodule</span>
</code></pre>
<h4 data-source-line="184" id="half-adder-ha">Half Adder (HA)</h4>
<p data-source-line="185">Create another Verilog module for a half adder.</p>
<pre><code class="hljs language-verilog"><span class="hljs-keyword">module</span> HA(
    <span class="hljs-keyword">input</span> A,
    <span class="hljs-keyword">input</span> B,
    <span class="hljs-keyword">output</span> S,
    <span class="hljs-keyword">output</span> Cout
    );

<span class="hljs-keyword">assign</span> S = A ^ B;
<span class="hljs-keyword">assign</span> Cout = A &amp; B;

<span class="hljs-keyword">endmodule</span>
</code></pre>
<h4 data-source-line="200" id="implement-4-bit-adder-using-fa-and-ha">Implement 4-bit Adder using FA and HA</h4>
<p data-source-line="202">Create a Verilog module called adder to wrap three FAs with one HA to form a 4-bit adder based on figure 3 (PS! just create a 4 bit adder, not an eight bit adder). Check your wrapper code below after you’re done by clicking “Show Code”.</p>
<figure data-source-line="204"><img alt="Figure 3. Ripple-Carry Adder Block Diagram" src="../images/5370f0459fcdacd6a21d1b23148bfb68.svg"/><figcaption>Figure 3. Ripple-Carry Adder Block Diagram</figcaption></figure>
<p data-source-line="206"><button class="btn btn-sm btn-grey" data-target="#demo4" data-toggle="collapse" type="button"><strong><strong>Show/Hide Code</strong></strong></button></p>
<div class="collapse" id="demo4">
<pre><code class="hljs language-verilog"><span class="hljs-keyword">module</span> adder(
    <span class="hljs-keyword">input</span> [<span class="hljs-number">3</span>:<span class="hljs-number">0</span>] A,
    <span class="hljs-keyword">input</span> [<span class="hljs-number">3</span>:<span class="hljs-number">0</span>] B,
    <span class="hljs-keyword">output</span> [<span class="hljs-number">3</span>:<span class="hljs-number">0</span>] S,
    <span class="hljs-keyword">output</span> Cout
    );

<span class="hljs-keyword">wire</span> [<span class="hljs-number">3</span>:<span class="hljs-number">0</span>] Carry;

HA add_0 (
    <span class="hljs-variable">.A</span>(A[<span class="hljs-number">0</span>]),
    <span class="hljs-variable">.B</span>(B[<span class="hljs-number">0</span>]),
    <span class="hljs-variable">.S</span>(S[<span class="hljs-number">0</span>]),
    <span class="hljs-variable">.Cout</span>(Carry[<span class="hljs-number">0</span>])
    );

FA add_1 (
    <span class="hljs-variable">.A</span>(A[<span class="hljs-number">1</span>]),
    <span class="hljs-variable">.B</span>(B[<span class="hljs-number">1</span>]),
    <span class="hljs-variable">.Cin</span>(Carry[<span class="hljs-number">0</span>]),
    <span class="hljs-variable">.S</span>(S[<span class="hljs-number">1</span>]),
    <span class="hljs-variable">.Cout</span>(Carry[<span class="hljs-number">1</span>])
    );

FA add_2 (
    <span class="hljs-variable">.A</span>(A[<span class="hljs-number">2</span>]),
    <span class="hljs-variable">.B</span>(B[<span class="hljs-number">2</span>]),
    <span class="hljs-variable">.Cin</span>(Carry[<span class="hljs-number">1</span>]),
    <span class="hljs-variable">.S</span>(S[<span class="hljs-number">2</span>]),
    <span class="hljs-variable">.Cout</span>(Carry[<span class="hljs-number">2</span>])
    );

FA add_3 (
    <span class="hljs-variable">.A</span>(A[<span class="hljs-number">3</span>]),
    <span class="hljs-variable">.B</span>(B[<span class="hljs-number">3</span>]),
    <span class="hljs-variable">.Cin</span>(Carry[<span class="hljs-number">2</span>]),
    <span class="hljs-variable">.S</span>(S[<span class="hljs-number">3</span>]),
    <span class="hljs-variable">.Cout</span>(Carry[<span class="hljs-number">3</span>])
    );

<span class="hljs-keyword">assign</span> Cout = Carry[<span class="hljs-number">3</span>];

<span class="hljs-keyword">endmodule</span>
</code></pre>
</div>
<h3 data-source-line="256" id="implement-adder-behaviorally">Implement Adder Behaviorally</h3>
<p data-source-line="257">Verlilog allows you to use operator <code>+</code> in your code to instantiate an adder implicitly. However, the Verilog synthesizer will decide the circuit implementation of the adder. In some situation, you may allow the synthesizer to select the logic implementation of the adder, while in some other cases, you may want to implement the adder yourself and pick the right structure of the adder to be implemented.</p>
<p data-source-line="259">Create your code and double check it below to make sure you got it right.</p>
<p data-source-line="261"><button class="btn btn-sm btn-grey" data-target="#demo5" data-toggle="collapse" type="button"><strong><strong>Show/Hide Code</strong></strong></button></p>
<div class="collapse" id="demo5">
<pre><code class="hljs language-verilog"><span class="hljs-keyword">module</span> adder(
    <span class="hljs-keyword">input</span> [<span class="hljs-number">3</span>:<span class="hljs-number">0</span>] A,
    <span class="hljs-keyword">input</span> [<span class="hljs-number">3</span>:<span class="hljs-number">0</span>] B,
    <span class="hljs-keyword">output</span> [<span class="hljs-number">3</span>:<span class="hljs-number">0</span>] S,
    <span class="hljs-keyword">output</span> Cout
    );

<span class="hljs-keyword">wire</span> [<span class="hljs-number">4</span>:<span class="hljs-number">0</span>] Result;
<span class="hljs-keyword">assign</span> Result = A + B;

<span class="hljs-keyword">assign</span> S = Result[<span class="hljs-number">3</span>:<span class="hljs-number">0</span>];
<span class="hljs-keyword">assign</span> Cout = Result[<span class="hljs-number">4</span>];

<span class="hljs-keyword">endmodule</span>
</code></pre>
</div>
<h2 data-source-line="282" id="step-3-design-a-4-bit-multiplier-structurally">Step 3: Design a 4-bit Multiplier Structurally</h2>
<p data-source-line="283">Up to this point, you are expected to be able to describe circuits structurally. Based on the block diagram shown below in Fig. 4, you can use assignment statements to implement the circuit for partial products, and use the FA, HA, and the adder you implemented in previous steps to add those partial products together.</p>
<figure data-source-line="285"><img alt="Figure 4. Hardware Multiplier" src="../images/6ecee9348a428c189ee08a1cbea14658.svg"/><figcaption>Figure 4. Hardware Multiplier</figcaption></figure>
<h2 data-source-line="288" id="requirements">Requirements</h2>
<h3 data-source-line="289" id="1-simulate-the-4-bit-comparator-structurally-and-behaviorally"><i aria-hidden="true" class="fa fa-check-square-o"></i> 1. Simulate the 4-bit Comparator Structurally <code>and</code> Behaviorally</h3>
<p data-source-line="290">Create test benches for the <mark>Comparator</mark> circuits discussed in <mark>Step 1</mark>. Your testbench has to be written so to that you would test all possible input patterns.</p>
<h3 data-source-line="292" id="2-simulate-the-4-bit-adder-structurally-and-behaviorally"><i aria-hidden="true" class="fa fa-check-square-o"></i> 2. Simulate the 4-bit Adder Structurally <code>and</code> Behaviorally</h3>
<p data-source-line="293">Create test benches for the <mark>Binary Adder</mark> circuits discussed in <mark>Step 2</mark>. Your testbench has to be written so to that you would test all possible input patterns.</p>
<h3 data-source-line="295" id="3-simulate-the-4-bit-multiplier-structurally"><i aria-hidden="true" class="fa fa-check-square-o"></i> 3. Simulate the 4-bit Multiplier Structurally</h3>
<p data-source-line="296">Create a test bench for the <mark>Multiplier</mark> circuit discussed in <mark>Step 3</mark>. Your testbench has to be written so to that you would test all possible input patterns.</p>
<h3 data-source-line="298" id="4-create-and-simulate-a-ripple-borrow-subtractor-structurally"><i aria-hidden="true" class="fa fa-check-square-o"></i> 4. Create and Simulate a Ripple Borrow Subtractor Structurally</h3>
<p data-source-line="299">Implement a 4-bit ripple borrow subtractor using bit-sliced design methodology and describe it structurally in Verilog.</p>
<h3 data-source-line="301" id="5-create-and-simulate-an-add-subtract-circuit-structurally-or-behaviorally"><i aria-hidden="true" class="fa fa-check-square-o"></i> 5. Create and Simulate an Add-Subtract Circuit Structurally <code>or</code> Behaviorally</h3>
<p data-source-line="302">Modify the adder you implemented in step 2 into an add_subtract circuit. Add an input <code>subtract</code>. When <code>subtract</code> is ‘1’ the output of add_subtract equals <eq><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>A</mi><mo>−</mo><mi>B</mi></mrow><annotation encoding="application/x-tex">A - B</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.68333em;"></span><span class="strut bottom" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="base"><span class="mord mathit">A</span><span class="mbin">−</span><span class="mord mathit" style="margin-right:0.05017em;">B</span></span></span></span></eq>. When <code>subtract</code> is ‘1’, the output of add_subtract equals <eq><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>A</mi><mo>+</mo><mi>B</mi></mrow><annotation encoding="application/x-tex">A + B</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.68333em;"></span><span class="strut bottom" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="base"><span class="mord mathit">A</span><span class="mbin">+</span><span class="mord mathit" style="margin-right:0.05017em;">B</span></span></span></span></eq>. Inputs and outputs of the add_subtract circuit are represented in 2’s complement. Instead of <code>cout</code>, an output <code>ERR</code> is needed as overflow/underflow indicator, i.e., <code>ERR</code> is ‘1’ when overflow/underflow occurs.</p>
<h3 data-source-line="304" id="6-create-and-simulate-an-arithmetic-logic-unit-alu"><i aria-hidden="true" class="fa fa-check-square-o"></i> 6. Create and Simulate an Arithmetic Logic Unit (ALU)</h3>
<p data-source-line="306">Combine add_subtract with other logics to implement an ALU according to the following opcode table (Inputs and Output of the ALU are 4-bit binary numbers in 2’s complement). Refer to background material for more information about ALU’s.</p>
<table class="table table-striped table-bordered" data-source-line="308">
<thead>
<tr>
<th><strong>OpCode</strong></th>
<th><strong>Description</strong></th>
<th><strong>Output F</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>000</td>
<td>Addition</td>
<td><eq><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>A</mi><mo>+</mo><mi>B</mi></mrow><annotation encoding="application/x-tex">A + B</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.68333em;"></span><span class="strut bottom" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="base"><span class="mord mathit">A</span><span class="mbin">+</span><span class="mord mathit" style="margin-right:0.05017em;">B</span></span></span></span></eq></td>
</tr>
<tr>
<td>001</td>
<td>Increment</td>
<td><eq><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>A</mi><mo>+</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">A + 1</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.68333em;"></span><span class="strut bottom" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="base"><span class="mord mathit">A</span><span class="mbin">+</span><span class="mord mathrm">1</span></span></span></span></eq></td>
</tr>
<tr>
<td>010</td>
<td>Subtract</td>
<td><eq><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>A</mi><mo>−</mo><mi>B</mi></mrow><annotation encoding="application/x-tex">A - B</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.68333em;"></span><span class="strut bottom" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="base"><span class="mord mathit">A</span><span class="mbin">−</span><span class="mord mathit" style="margin-right:0.05017em;">B</span></span></span></span></eq></td>
</tr>
<tr>
<td>011</td>
<td>Bit-wise XOR</td>
<td><eq><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>A</mi><mo>⊕</mo><mi>B</mi></mrow><annotation encoding="application/x-tex">A \oplus B</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.68333em;"></span><span class="strut bottom" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="base"><span class="mord mathit">A</span><span class="mbin">⊕</span><span class="mord mathit" style="margin-right:0.05017em;">B</span></span></span></span></eq></td>
</tr>
<tr>
<td>100</td>
<td>Bit-wise OR</td>
<td><eq><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>A</mi><mo>∣</mo><mi>B</mi></mrow><annotation encoding="application/x-tex">A \rvert B</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base"><span class="mord mathit">A</span><span class="mclose">∣</span><span class="mord mathit" style="margin-right:0.05017em;">B</span></span></span></span></eq></td>
</tr>
<tr>
<td>101</td>
<td>Bit-wise AND</td>
<td><eq><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>A</mi><mo>&amp;</mo><mi>B</mi></mrow><annotation encoding="application/x-tex">A \And B</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.69444em;"></span><span class="strut bottom" style="height:0.69444em;vertical-align:0em;"></span><span class="base"><span class="mord mathit">A</span><span class="mbin">&amp;</span><span class="mord mathit" style="margin-right:0.05017em;">B</span></span></span></span></eq></td>
</tr>
</tbody>
</table>
<h2 data-source-line="318" id="next-project-counters-and-clock-dividers"><i aria-hidden="true" class="fa fa-sign-out"></i> Next Project: Counters and Clock Dividers</h2>
<p data-source-line="319">If you are confident in doing this porject, go ahead and continue with the next <a class="btn btn-sm btn-default" href="https://www.realdigital.org/doc/0bfaffd4efce9695a5aeec5595ae1949"><strong>PROJECT 6.2: Counters and Clock Dividers</strong></a> for some extra practice!</p>
</div>
<div class="col col-toc">
<nav class="sticky-top sticky" id="doc-toc">
</nav>
</div>
</div>
</article>
</div>
<div aria-hidden="true" aria-labelledby="imagePreview" class="modal fade" id="docImagePreviewModal" role="dialog" tabindex="-1">
<div class="modal-dialog modal-lg" role="document" style="max-width: 80vw;">

</div>
</div>
</div>
<footer class="page-footer center-on-small-only">
<div class="container-fluid">
<div class="footer-copyright">
            Copyright © 2018 realdigital.org. All Rights Reserved.<br/>
            Documents licensed <a href="http://creativecommons.org/licenses/by-sa/4.0/" rel="license">CC SA 4.0</a>.
        </div>
</div>
</footer>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js" type="text/javascript"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/wow/1.1.2/wow.min.js" type="text/javascript"></script>
<script src="/build/manifest.d41d8cd98f00b204e980.js" type="text/javascript"></script>
<script src="/build/realdigital.de4335d491c4f4582d5e.js" type="text/javascript"></script>
<script src="/build/js/app.b4b1f84db5840c3f9f81.js" type="text/javascript"></script>
<script>new WOW().init();</script>
</body>
</html>
